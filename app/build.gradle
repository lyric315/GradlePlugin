apply plugin: 'groovy'
apply plugin: 'maven'

dependencies {
    //gradle sdk
    compile gradleApi()
    //groovy sdk
    compile localGroovy()
}

repositories {
    mavenCentral()
}

uploadArchives {
    repositories {
        mavenDeployer {
            //提交到远程服务器：
            // repository(url: "http://www.xxx.com/repos") {
            //    authentication(userName: "admin", password: "admin")
            // }
            /**
             * 本地的Maven地址设置,设置地址是应使用：
             * repository(url: uri('/Users/lirui/.m2/repository'))
             * 或者
             * epository(url: 'file:/Users/lirui/.m2/repository/')
             * 否则会报以下问题
             * https://stackoverflow.com/questions/18253134/connector-for-maven-deployment
             */
            repository(url: uri('/Users/lirui/.m2/repository'))
            // 唯一标识
            pom.groupId = "com.lyri.gradle"
            // 项目名称
            pom.artifactId = "MyPlugin"
            // 版本号
            pom.version = "1.0.0"
        }
    }
}